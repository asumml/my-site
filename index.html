<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Security Scan</title>

<style>
  body {
    margin: 0;
    background: black;
    color: #00ff66;
    font-family: monospace;
    height: 100vh;
    overflow: hidden;
  }

  .ui {
    position: relative;
    z-index: 2;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  .blink { animation: blink 1s infinite; }
  @keyframes blink { 50% { opacity: .3; } }

  .frame {
    width: min(92%, 420px);
    height: 220px;
    border: 2px solid #00ff66;
    margin: 12px auto;
    position: relative;
    overflow: hidden;
  }

  .scan {
    position: absolute;
    left: 0; width: 100%; height: 6px;
    background: #00ff66;
    animation: scan 2s linear infinite;
  }
  @keyframes scan { from { top: 0; } to { top: 100%; } }

  .logs {
    position: absolute;
    top: -100%;
    left: 0;
    right: 0;
    height: 200%;
    opacity: .7;
    z-index: 1;
    animation: logs 10s linear infinite;
    pointer-events: none;
  }
  @keyframes logs { from { transform: translateY(0); } to { transform: translateY(50%); } }

  .log { white-space: nowrap; font-size: 12px; line-height: 1.6; }

  .flash {
    position: fixed; inset: 0;
    background: white; opacity: 0;
    z-index: 5; pointer-events: none;
    transition: opacity .08s ease;
  }
  .flash.on { opacity: 1; }

  .glitch {
    position: fixed; inset: 0;
    background: black; opacity: 0;
    z-index: 6; pointer-events: none;
  }
  .glitch.on {
    animation: glitch .4s steps(2) infinite;
    opacity: .9;
  }
  @keyframes glitch {
    0% { transform: translate(0,0); }
    20% { transform: translate(-6px,3px); }
    40% { transform: translate(6px,-3px); }
    60% { transform: translate(-4px,-2px); }
    80% { transform: translate(4px,2px); }
    100% { transform: translate(0,0); }
  }
</style>
</head>

<body>

<div class="logs" id="logs"></div>
<div class="flash" id="flash"></div>
<div class="glitch" id="glitch"></div>

<div class="ui">
  <p class="blink">⚠️ Camera access granted</p>

  <div class="frame">
    <div class="scan"></div>
  </div>

  <p id="status">Initializing camera module...</p>
</div>

<script>
const status = document.getElementById("status");
const flash = document.getElementById("flash");
const glitch = document.getElementById("glitch");
const logs = document.getElementById("logs");

// Generate LOTS of scrolling numbers/logs
function randHex(len=8){
  return [...Array(len)].map(()=>Math.floor(Math.random()*16).toString(16)).join('');
}
let logHTML = "";
for (let i=0;i<300;i++){
  logHTML += `<div class="log">ID:${randHex(6)}  PKT:${randHex(10)}  SEQ:${Math.floor(Math.random()*999999)}</div>`;
}
logs.innerHTML = logHTML;

const messages = [
  "Detecting face...",
  "Adjusting exposure...",
  "Capturing frame...",
  "Uploading image...",
  "Analyzing data..."
];

let i = 0;
const interval = setInterval(()=>{
  const msg = messages[i % messages.length];
  status.textContent = msg;

  // Double flash on "Capturing frame..."
  if(msg === "Capturing frame..."){
    flash.classList.add("on");
    setTimeout(()=>flash.classList.remove("on"),80);
    setTimeout(()=>flash.classList.add("on"),160);
    setTimeout(()=>flash.classList.remove("on"),240);
  }

  i++;
  if(i>18){
    clearInterval(interval);
    status.textContent = ""; // remove status
    logs.style.animationPlayState = "paused"; // stop logs
    document.querySelector('.scan').style.animationPlayState = "paused"; // stop scan
    glitch.classList.add("on"); // permanent glitch
  }
},700);

// Power vibration on first touch anywhere
document.addEventListener("touchstart", ()=>{
  if(navigator.vibrate) navigator.vibrate([300,120,300,120,500,200,400]);
},{once:true});

</script>

</body>
</html>
